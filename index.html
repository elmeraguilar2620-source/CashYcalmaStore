<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cash y Calma — Ropa & Estilo</title>
  <meta name="description" content="Sitio oficial de Cash Y Calma: drops, camisetas y streetwear." />
  <style>
    :root{
      --bg:#0b0b10;
      --card:#12121a;
      --text:#f5f5f7;
      --muted:#b9b9c6;
      --brand:#8b5cf6;
      --brand2:#a78bfa;
      --line:rgba(255,255,255,.10);
      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --radius:18px;
      --max:1120px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1000px 600px at 20% 0%, rgba(139,92,246,.25), transparent 60%),
        radial-gradient(900px 700px at 80% 10%, rgba(167,139,250,.20), transparent 55%),
        var(--bg);
    }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 18px;}
    .pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border:1px solid var(--line);
      border-radius:999px; background:rgba(255,255,255,.04);
      backdrop-filter: blur(8px);
    }
    .dot{width:10px;height:10px;border-radius:50%;background:var(--brand); box-shadow:0 0 0 6px rgba(139,92,246,.15);}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px; border-radius:14px; border:1px solid var(--line);
      background:rgba(255,255,255,.06); color:var(--text);
      transition: transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
      cursor:pointer;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(139,92,246,.55);}
    .btn.primary{
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      border-color: transparent;
      color:#0b0b10;
      font-weight:700;
    }
    .btn.primary:hover{filter:brightness(1.05)}
    .btn.ghost{background:transparent}
    .btn[disabled]{opacity:.55; cursor:not-allowed; transform:none;}
    .muted{color:var(--muted)}
    .grid{display:grid; gap:16px}
    .card{
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* Header */
    header{
      position:sticky; top:0; z-index:20;
      background:rgba(11,11,16,.65);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:12px;
    }
    .logo{
      display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px;
    }
    .mark{
      width:38px; height:38px; border-radius:12px;
      background: radial-gradient(circle at 25% 20%, #fff, rgba(255,255,255,.2) 35%, rgba(139,92,246,.9) 80%);
      box-shadow:0 10px 30px rgba(139,92,246,.25);
      border:1px solid rgba(255,255,255,.10);
    }
    nav ul{list-style:none; display:flex; gap:14px; margin:0; padding:0; align-items:center}
    nav a{
      padding:10px 12px; border-radius:12px; color:var(--muted);
      border:1px solid transparent;
    }
    nav a:hover{color:var(--text); border-color:rgba(255,255,255,.08); background:rgba(255,255,255,.04)}
    .nav-right{display:flex; align-items:center; gap:10px}
    .burger{display:none}

    /* Hero */
    .hero{padding:38px 0 18px}
    .hero-grid{
      display:grid; grid-template-columns: 1.25fr .75fr; gap:18px;
      align-items:stretch;
    }
    .hero-left{padding:26px}
    h1{
      margin:14px 0 10px;
      font-size: clamp(34px, 4.4vw, 56px);
      line-height:1.05;
      letter-spacing:-.6px;
    }
    .hero-left p{margin:0 0 18px; font-size: clamp(15px, 1.4vw, 18px); color:var(--muted); max-width:52ch}
    .hero-actions{display:flex; gap:10px; flex-wrap:wrap}
    .hero-right{
      padding:18px;
      display:flex; flex-direction:column; gap:12px;
    }
    .mock{
      position:relative;
      height:100%;
      min-height:260px;
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(600px 260px at 50% 0%, rgba(139,92,246,.35), transparent 65%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      overflow:hidden;
    }
    .mock:before{
      content:"";
      position:absolute; inset:-80px;
      background:
        radial-gradient(circle at 30% 40%, rgba(255,255,255,.20), transparent 40%),
        radial-gradient(circle at 70% 50%, rgba(167,139,250,.22), transparent 45%);
      filter: blur(18px);
      opacity:.8;
    }
    .mock-inner{
      position:absolute; inset:14px;
      border-radius: calc(var(--radius) - 8px);
      border:1px dashed rgba(255,255,255,.18);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      padding:16px;
      text-align:center;
    }
    .statbar{
      display:grid; grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
    }
    .stat{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.03);
    }
    .stat b{display:block; font-size:18px}
    .stat small{color:var(--muted)}

    /* Sections */
    section{padding:22px 0}
    .section-title{
      display:flex; align-items:flex-end; justify-content:space-between; gap:14px;
      margin-bottom:12px;
    }
    .section-title h2{margin:0; font-size:22px}
    .section-title p{margin:0; color:var(--muted); max-width:60ch}

    /* Products */
    .products{grid-template-columns: repeat(3, 1fr)}
    .prod{
      padding:14px;
      display:flex; flex-direction:column; gap:12px;
    }
    .prod-row{display:flex; justify-content:space-between; align-items:flex-start; gap:10px}
    .price{font-weight:800}
    .tag{
      font-size:12px; color:#0b0b10; background:linear-gradient(135deg,var(--brand),var(--brand2));
      padding:6px 10px; border-radius:999px; display:inline-block; font-weight:800;
    }

    /* Galería de 2 imágenes por producto */
    .prod-gallery{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .prod-shot{
      height:180px;
      width:100%;
      overflow:hidden;
      border-radius:16px;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      border:1px solid rgba(255,255,255,.08);
    }
    .prod-shot img{
      width:92%;
      height:92%;
      object-fit:contain;
      display:block;
    }
    @media (max-width: 900px){
      .prod-gallery{grid-template-columns:1fr;}
      .prod-shot{height:200px;}
    }

    /* About */
    .about{grid-template-columns: 1fr 1fr}
    .about .card{padding:18px}
    .list{margin:10px 0 0; padding-left:18px; color:var(--muted)}
    .list li{margin:8px 0}

    .footer{
      padding:26px 0 34px;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,.06);
      margin-top:18px;
    }

    /* Mobile */
    @media (max-width: 900px){
      .hero-grid{grid-template-columns:1fr}
      .products{grid-template-columns:1fr}
      .about{grid-template-columns:1fr}
      nav ul{display:none}
      .burger{display:inline-flex}
      .mobile-menu{
        display:none;
        padding:10px 0 16px;
      }
      .mobile-menu a{display:block; padding:10px 0; color:var(--muted)}
      .mobile-menu a:hover{color:var(--text)}
      .mobile-menu.show{display:block}
    }

    /* ====== LIGHTBOX (expandir imagen) ====== */
    .zoomable{ cursor: zoom-in; }

    .lightbox{
      position:fixed;
      inset:0;
      z-index:9999;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      background:rgba(0,0,0,.85);
      backdrop-filter: blur(6px);
    }
    .lightbox.show{ display:flex; }

    .lightbox-inner{
      position:relative;
      width:min(980px, 96vw);
      max-height:90vh;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(18,18,26,.55);
      overflow:hidden;
      box-shadow: 0 30px 80px rgba(0,0,0,.55);
    }

    .lightbox-img{
      display:block;
      width:100%;
      height:auto;
      max-height:90vh;
      object-fit:contain;
      background:#000;
    }

    .lightbox-close{
      position:absolute;
      top:10px;
      right:10px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.55);
      color:#fff;
      border-radius:12px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:800;
    }
    .lightbox-close:hover{
      border-color:rgba(139,92,246,.55);
      background:rgba(0,0,0,.7);
    }

    .lightbox-hint{
      position:absolute;
      left:12px;
      bottom:10px;
      color:rgba(255,255,255,.75);
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
    }

    /* ====== CUPONES (AÑADIDO) ====== */
    .coupons{grid-template-columns:1fr 1fr;}
    .coupon{
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .coupon-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .coupon-title{margin:0; font-size:18px; font-weight:900;}
    .coupon-desc{margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.45;}
    .coupon-code{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 12px;
      border-radius:14px;
      border:1px dashed rgba(255,255,255,.18);
      background:rgba(0,0,0,.22);
    }
    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-weight:900;
      letter-spacing:.8px;
    }
    .badge{
      font-size:12px;
      color:#0b0b10;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      padding:6px 10px;
      border-radius:999px;
      display:inline-block;
      font-weight:900;
      white-space:nowrap;
    }
    .toast{
      margin-top:8px;
      font-size:13px;
      color:var(--muted);
      min-height:18px;
    }
    @media (max-width: 900px){
      .coupons{grid-template-columns:1fr;}
    }

    /* ====== INTERÉS (AÑADIDO, SIMPLE) ====== */
    .interest-grid{grid-template-columns: 1.1fr .9fr;}
    .interest-card{padding:18px;}
    .field{display:flex; flex-direction:column; gap:8px;}
    .field label{font-size:13px; color:var(--muted)}
    .input{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.22);
      color:var(--text);
      outline:none;
    }
    .input:focus{
      border-color:rgba(139,92,246,.55);
      box-shadow: 0 0 0 6px rgba(139,92,246,.12);
    }
    @media (max-width:900px){
      .interest-grid{grid-template-columns:1fr;}
    }
  </style>
</head>

<body>
  <header>
    <div class="wrap">
      <div class="nav">
        <a class="logo" href="#inicio" aria-label="Inicio">
          <div class="mark" aria-hidden="true"></div>
          <div>
            <div style="font-size:30px; color:var(--muted); font-weight:700;">CASH Y CALMA</div>
            <div style="font-size:35px; font-weight:900; letter-spacing:.3px;">STREETWEAR DESIGNS</div>
          </div>
        </a>

        <nav aria-label="Navegación">
          <ul>
            <li><a href="#drops">Drops</a></li>
            <li><a href="#productos">Productos</a></li>
            <li><a href="#interes">Interés</a></li>
            <li><a href="#cupones">Cupones</a></li>
            <li><a href="#historia">Historia</a></li>
          </ul>
        </nav>

        <div class="nav-right">
          <button class="btn ghost" id="themeBtn" type="button" title="Cambiar brillo">
            ✨ <span class="muted">Modo</span>
          </button>
          <button class="btn burger" id="burger" type="button" aria-label="Abrir menú">☰</button>
          <a class="btn primary" href="#productos">Ver colección</a>
        </div>
      </div>

      <div class="mobile-menu" id="mobileMenu" aria-label="Menú móvil">
        <a href="#drops">Drops</a>
        <a href="#productos">Productos</a>
        <a href="#interes">Interés</a>
        <a href="#cupones">Cupones</a>
        <a href="#historia">Historia</a>
      </div>
    </div>
  </header>

  <main id="inicio" class="wrap">
    <div class="hero">
      <div class="hero-grid">
        <div class="card hero-left">
          <span class="pill"><span class="dot"></span><span>Drops nuevos • edición limitadas</span></span>
          <h1>Ropa con actitud. <span style="color:var(--brand2)">Hecha para destacar.</span></h1>
          <p>Bienvenido a <b>Cash y Calma</b>. Diseños limpios, detalles fuertes y una vibra street.</p>
          <div class="hero-actions">
            <a class="btn primary" href="#productos">Comprar ahora</a>
            <a class="btn" href="#historia">Conocer la marca</a>
          </div>
        </div>

        <div class="hero-right">
          <div class="mock">
            <div class="mock-inner">
              <img
                class="zoomable"
                data-full="https://drive.google.com/thumbnail?id=1aYYEZ9ZUdZ32887mrZVzuuv7nWKExIX_&sz=w2000"
                src="https://drive.google.com/thumbnail?id=1aYYEZ9ZUdZ32887mrZVzuuv7nWKExIX_&sz=w1200"
                alt="Cash y Calma Hero Image"
                style="width:200%; height:200%; object-fit:contain; display:block; margin-right:25px;"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="statbar" style="margin-top:16px">
        <div class="stat"><b>Premium</b><small>Calidad de tela</small></div>
        <div class="stat"><b>Drops</b><small>Edición limitadas</small></div>
        <div class="stat"><b>Envios</b><small>USA / SLV</small></div>
      </div>
    </div>

    <section id="drops">
      <div class="section-title">
        <div>
          <h2>Drops</h2>
        </div>
        <span class="pill"><span class="dot"></span><span id="dropText">Próximo drop: Enero</span></span>
      </div>

      <div class="grid" style="grid-template-columns: 1.2fr .8fr;">
        <div class="card" style="padding:18px">
          <h3 style="margin:0 0 8px">DROPS: “MIDNIGHT PURPLE Y CALMA MODE”</h3>
          <p class="muted" style="margin:0 0 14px">
            Camisetas negras con detalles morados / blancas con detalles negro. Stock limitado.
            Da clic en el icono de Instagram para que te dirija a la cuenta para hacer tu pedido.
            Pago en línea se habilitará muy pronto.
          </p>
          <div style="display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn primary" href="#productos">Ver piezas</a>
          </div>
        </div>

        <div class="card" style="padding:18px">
          <h3 style="margin:0 0 8px">Oferta</h3>
          <p class="muted" style="margin:0 0 14px">Envío gratis en compras arriba de $75.</p>
          <div class="pill"><span class="dot"></span><span>Hecho con estilo + simple + dos culturas diferentes.</span></div>
        </div>
      </div>
    </section>

    <section id="productos">
      <div class="section-title">
        <div><h2>Productos</h2></div>
        <span class="pill"><span class="dot"></span><span id="interestTotal">0 total</span></span>
      </div>

      <!-- Producto 1 (MIDNIGHT PURPLE) -->
      <article class="card prod">
        <div class="prod-gallery">
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=1wfSTBYAAx6WdsrgsbvlX4eppmAlOhhsp&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=1wfSTBYAAx6WdsrgsbvlX4eppmAlOhhsp&sz=w2000"
              alt="Camiseta MIDNIGHT PURPLE - Imagen 1"
            />
          </div>
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=1-ngJkYxYDNMwXb9ReJWz72mateIepkVk&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=1-ngJkYxYDNMwXb9ReJWz72mateIepkVk&sz=w2000"
              alt="Camiseta MIDNIGHT PURPLE - Imagen 2"
            />
          </div>
        </div>

        <div class="prod-row">
          <div>
            <div style="font-weight:900">Camiseta MIDNIGHT PURPLE</div>
            <div class="muted" style="font-size:13px">Algodón • Corte oversized • Unisex</div>
          </div>
          <div class="price">TBD</div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
          <span class="tag">Nuevo</span>

          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
            <span class="pill" style="padding:10px 12px;">
              <span class="dot"></span><span id="count-midnight">0</span>
            </span>

            <button class="btn js-interest" type="button" data-interest-key="midnight" onclick="addInterest('midnight')">❤️ Me interesa</button>

            <button class="btn" type="button" onclick="addToCart('Camiseta MIDNIGHT PURPLE', 35.99)">No habilitado</button>
          </div>
        </div>
      </article>

      <!-- Producto 2 (CALMA MODE) -->
      <article class="card prod" style="margin-top:16px">
        <div class="prod-gallery">
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=19kX9p8lQ7mGBhLLeX19GspycQI-E1CX6&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=19kX9p8lQ7mGBhLLeX19GspycQI-E1CX6&sz=w2000"
              alt="Camiseta CALMA MODE - Imagen 1"
            />
          </div>
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=1vRWx6thV37RHEG3UMZZkHiygvmKZCYfJ&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=1vRWx6thV37RHEG3UMZZkHiygvmKZCYfJ&sz=w2000"
              alt="Camiseta CALMA MODE - Imagen 2"
            />
          </div>
        </div>

        <div class="prod-row">
          <div>
            <div style="font-weight:900">Camiseta CALMA MODE</div>
            <div class="muted" style="font-size:13px">Algodón • Corte oversized • Unisex</div>
          </div>
          <div class="price">TBD</div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
          <span class="tag">Nuevo</span>

          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
            <span class="pill" style="padding:10px 12px;">
              <span class="dot"></span><span id="count-calma">0</span>
            </span>

            <button class="btn js-interest" type="button" data-interest-key="calma" onclick="addInterest('calma')">❤️ Me interesa</button>

            <button class="btn" type="button" onclick="addToCart('Camiseta CALMA MODE', 35.99)">No habilitado</button>
          </div>
        </div>
      </article>

      <!-- Producto 3 (HOODIE) -->
      <article class="card prod" style="margin-top:16px">
        <div class="prod-gallery">
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=14PwAsWKAQvFK-bglANYurE-STuLK7V8M&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=14PwAsWKAQvFK-bglANYurE-STuLK7V8M&sz=w2000"
              alt="Hoodie - Imagen 1"
            />
          </div>
          <div class="prod-shot">
            <img
              class="zoomable"
              src="https://drive.google.com/thumbnail?id=14PwAsWKAQvFK-bglANYurE-STuLK7V8M&sz=w1000"
              data-full="https://drive.google.com/thumbnail?id=14PwAsWKAQvFK-bglANYurE-STuLK7V8M&sz=w2000"
              alt="Hoodie - Imagen 2"
            />
          </div>
        </div>

        <div class="prod-row">
          <div>
            <div style="font-weight:900">Hoodie muy pronto...</div>
            <div class="muted" style="font-size:13px">• Unisex</div>
          </div>
          <div class="price">TBD</div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
          <span class="tag">Nuevo pero muy pronto...</span>

          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
            <span class="pill" style="padding:10px 12px;">
              <span class="dot"></span><span id="count-hoodie">0</span>
            </span>

            <button class="btn js-interest" type="button" data-interest-key="hoodie" onclick="addInterest('hoodie')">❤️ Me interesa</button>

            <button class="btn" type="button" onclick="addToCart('Hoodie', 0)">No habilitado</button>
          </div>
        </div>
      </article>

      <!-- Carrito -->
      <div class="card" style="margin-top:16px; padding:16px">
        <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; align-items:center;">
          <div>
            <div style="font-weight:900">Carrito</div>
            <div class="muted" style="font-size:13px">Se habilitará muy pronto.</div>
          </div>
          <div class="pill"><span class="dot"></span><span id="cartCount">0 artículos</span></div>
        </div>
        <div id="cartList" class="muted" style="margin-top:10px; font-size:14px"></div>
        <div style="margin-top:10px; display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
          <div style="font-weight:900">Total: <span id="cartTotal">$0</span></div>
          <button class="btn primary" type="button" onclick="checkout()">No habilitado</button>
        </div>
      </div>
    </section>

    <!-- ====== INTERÉS (DESPUÉS DE PRODUCTOS) ====== -->
    <section id="interes">
      <div class="section-title">
        <div>
          <h2>Interés</h2>
          <p class="muted" style="margin-top:10px">Deja tu contacto y se abre WhatsApp con el resumen.</p>
        </div>
        <span class="pill"><span class="dot"></span><span id="interestTotal2">0 total</span></span>
      </div>

      <div class="grid interest-grid">
        <div class="card interest-card">
          <h3 style="margin:0 0 10px">Contacto</h3>

          <div class="field">
            <label for="iName">Nombre</label>
            <input class="input" id="iName" placeholder="Tu nombre">
          </div>

          <div class="field" style="margin-top:10px">
            <label for="iContact">Instagram/Email/Whatsapp</label>
            <input class="input" id="iContact" placeholder="@usuario o correo">
          </div>

          <div class="field" style="margin-top:10px">
            <label for="iNote">Nota: Detalles de la talla y el color que te gustaría o si estás interesado a futuro en los próximos drops o el hoodie que saldrá pronto.</label>
            <input class="input" id="iNote" placeholder="Talla, color, etc.">
          </div>

          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
            <button class="btn primary" type="button" onclick="sendToWhatsApp()">Enviar</button>
          </div>
        </div>

        <div class="card interest-card">
          <h3 style="margin:0 0 10px">Resumen</h3>

          <div class="pill" style="margin-top:10px"><span class="dot"></span>
            <span>Midnight Purple: <b id="sum-midnight">0</b></span>
          </div>
          <div class="pill" style="margin-top:10px"><span class="dot"></span>
            <span>Calma Mode: <b id="sum-calma">0</b></span>
          </div>
          <div class="pill" style="margin-top:10px"><span class="dot"></span>
            <span>Hoodie: <b id="sum-hoodie">0</b></span>
          </div>
          <div class="pill" style="margin-top:10px"><span class="dot"></span>
            <span>Total: <b id="sum-total">0</b></span>
          </div>
        </div>
      </div>
    </section>

    <!-- ====== CUPONES (AÑADIDO) ====== -->
    <section id="cupones">
      <div class="section-title">
        <div>
          <h2>Cupones</h2>
          <p>Usa estos códigos en tus pedidos. Toca “Copiar” para guardarlos.</p>
        </div>
        <span class="pill"><span class="dot"></span><span>Descuentos limitados</span></span>
      </div>

      <div class="grid coupons">
        <article class="card coupon">
          <div class="coupon-top">
            <div>
              <h3 class="coupon-title">Bienvenida</h3>
              <p class="coupon-desc">10% OFF en tu primera compra.</p>
            </div>
            <span class="badge">-10%</span>
          </div>

          <div class="coupon-code">
            <span class="code">FIRSTDROP10</span>
            <button class="btn" type="button" data-copy="FIRSTDROP10">Copiar</button>
          </div>
          <div class="toast" id="toast-FIRSTDROP10"></div>
        </article>

        <article class="card coupon">
          <div class="coupon-top">
            <div>
              <h3 class="coupon-title">Envío</h3>
              <p class="coupon-desc">Descuento de envío en compras arriba de $75.</p>
            </div>
            <span class="badge">ENVÍO</span>
          </div>

          <div class="coupon-code">
            <span class="code">SHIP2026</span>
            <button class="btn" type="button" data-copy="SHIP2026">Copiar</button>
          </div>
          <div class="toast" id="toast-SHIP2026"></div>
        </article>
      </div>
    </section>

    <section id="historia">
      <div class="section-title">
        <div>
          <h2>Historia</h2>
          <p class="muted" style="margin-top:10px">
            • Nuestra visión: Cash y Calma existe para representar el equilibrio que pocos entienden:
            ambición sin ruido, dinero sin ansiedad, éxito sin perder la paz.<br><br>
            • Nacimos de una idea simple pero poderosa: cuando hay control financiero, hay calma mental.<br><br>
            En un mundo que presume, grita y corre, "Cash y Calma elige el silencio". No competimos por atención; competimos por significado.<br><br>
            • Qué nos hace diferentes: No vendemos ropa, vendemos mentalidad. Cada prenda es un recordatorio de controlar el dinero, el tiempo y la mente.<br><br>
            Minimalismo con intención: diseños que no saturan ni siguen el ruido de tendencias. Streetwear con madurez: calle, pero pulida. Ambición, pero en calma.<br><br>
            Cash y Calma no grita éxito. Lo viste.
          </p>
        </div>
      </div>

      <div class="grid about">
        <div class="card">
          <h3 style="margin:0 0 10px">Nuestra idea</h3>
          <p class="muted" style="margin:0">
            Cash y Calma nace del streetwear: simple, elegante, y con detalles que resaltan. Cada drop tiene una historia.
          </p>
          <ul class="list">
            <li>Diseños limpios con identidad.</li>
            <li>Calidad de tela y impresión.</li>
            <li>Edición limitada y drops.</li>
          </ul>
        </div>

        <div class="card">
          <h3 style="margin:0 0 10px">Redes</h3>
          <a href="https://www.instagram.com/cashycalma_/"
             target="_blank"
             rel="noopener"
             aria-label="Instagram Cash y Calma"
             style="display:inline-flex;align-items:center;justify-content:center;width:100px;height:100px;border-radius:12px;border:1px solid rgba(255,255,255,.15);transition:.2s;"
             onmouseover="this.style.borderColor='#8b5cf6'"
             onmouseout="this.style.borderColor='rgba(255,255,255,.15)'"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"
                 fill="none" viewBox="0 0 24 24" stroke="white">
              <rect x="3" y="3" width="18" height="18" rx="5" ry="5" stroke-width="2"/>
              <circle cx="12" cy="12" r="4" stroke-width="2"/>
              <circle cx="17.5" cy="6.5" r="1.2" fill="white"/>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <div class="footer">
      <div class="wrap" style="padding:0">
        <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap">
          <div>© <span id="year"></span> Cash y Calma. Todos los derechos reservados.</div>
          <div class="muted">Hecho por Elmer Aguilar.</div>
        </div>
      </div>
    </div>
  </main>

  <!-- LIGHTBOX (expandir imagen) -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-inner" role="dialog" aria-modal="true" aria-label="Vista ampliada">
      <button class="lightbox-close" id="lightboxClose" type="button" aria-label="Cerrar">✕</button>
      <img id="lightboxImg" class="lightbox-img" alt="Imagen ampliada" />
      <div class="lightbox-hint">Click afuera o ESC para cerrar</div>
    </div>
  </div>

  <script>
    // --- menú móvil
    const burger = document.getElementById("burger");
    const mobileMenu = document.getElementById("mobileMenu");
    if (burger && mobileMenu) {
      burger.addEventListener("click", () => mobileMenu.classList.toggle("show"));
    }

    // --- año
    const yearEl = document.getElementById("year");
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // --- carrito (demo)
    let cart = [];
    const cartList = document.getElementById("cartList");
    const cartTotal = document.getElementById("cartTotal");
    const cartCount = document.getElementById("cartCount");

    function money(n){ return "$" + n.toFixed(2).replace(/\.00$/, ""); }

    window.addToCart = function(name, price){
      cart.push({name, price});
      renderCart();
    }

    function renderCart(){
      if (!cartList || !cartTotal || !cartCount) return;

      cartCount.textContent = cart.length + (cart.length === 1 ? " artículo" : " artículos");
      if(cart.length === 0){
        cartList.textContent = "Se habilitará muy pronto.";
        cartTotal.textContent = "$0";
        return;
      }
      cartList.innerHTML = cart.map((item, idx) => `
        <div style="display:flex; justify-content:space-between; gap:10px; padding:8px 0; border-bottom:1px solid rgba(255,255,255,.06);">
          <span>${idx+1}. ${item.name}</span>
          <span style="font-weight:700">${money(item.price)}</span>
        </div>
      `).join("");
      const total = cart.reduce((s,i)=> s + i.price, 0);
      cartTotal.textContent = money(total);
    }
    renderCart();

    window.checkout = function(){
      alert("Checkout no habilitado...");
    }
  </script>

  <script>
    // --- Próximo drop: próximo mes
    const meses = [
      "Enero","Febrero","Marzo","Abril","Mayo","Junio",
      "Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"
    ];
    const hoy = new Date();
    const proximoMes = meses[(hoy.getMonth() + 1) % 12];
    const drop = document.getElementById("dropText");
    if (drop) drop.textContent = `Próximo drop: ${proximoMes}`;
  </script>

  <script>
    // --- botón modo (solo cambia brillo de fondo)
    const themeBtn = document.getElementById("themeBtn");
    let bright = false;
    if (themeBtn) {
      themeBtn.addEventListener("click", () => {
        bright = !bright;
        document.documentElement.style.setProperty("--bg", bright ? "#0f1020" : "#0b0b10");
      });
    }
  </script>

  <script>
    // ====== LIGHTBOX JS (expandir imagen) ======
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightboxImg");
    const lightboxClose = document.getElementById("lightboxClose");

    function openLightbox(src, alt){
      if (!lightbox || !lightboxImg) return;
      lightboxImg.src = src;
      lightboxImg.alt = alt || "Imagen ampliada";
      lightbox.classList.add("show");
      lightbox.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeLightbox(){
      if (!lightbox || !lightboxImg) return;
      lightbox.classList.remove("show");
      lightbox.setAttribute("aria-hidden", "true");
      lightboxImg.src = "";
      document.body.style.overflow = "";
    }

    document.addEventListener("click", (e) => {
      const img = e.target.closest("img.zoomable");
      if (!img) return;
      const full = img.getAttribute("data-full") || img.src;
      openLightbox(full, img.alt);
    });

    if (lightboxClose) lightboxClose.addEventListener("click", closeLightbox);

    if (lightbox) {
      lightbox.addEventListener("click", (e) => {
        const inner = e.target.closest(".lightbox-inner");
        if (!inner) closeLightbox();
      });
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeLightbox();
    });
  </script>

  <script>
    // ====== CUPONES: copiar al portapapeles ======
    document.addEventListener("click", async (e) => {
      const btn = e.target.closest("[data-copy]");
      if (!btn) return;

      const code = btn.getAttribute("data-copy");
      const toast = document.getElementById("toast-" + code);

      try{
        await navigator.clipboard.writeText(code);
        if (toast) toast.textContent = "Copiado ✅";
        btn.textContent = "Copiado";
        setTimeout(() => {
          if (toast) toast.textContent = "";
          btn.textContent = "Copiar";
        }, 1400);
      }catch(err){
        const temp = document.createElement("input");
        temp.value = code;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand("copy");
        temp.remove();

        if (toast) toast.textContent = "Copiado ✅";
        btn.textContent = "Copiado";
        setTimeout(() => {
          if (toast) toast.textContent = "";
          btn.textContent = "Copiar";
        }, 1400);
      }
    });
  </script>

  <script>
    // ====== INTERÉS GLOBAL (Google Sheets) + 1 clic por persona por producto ======
    // Pega aquí tu URL /exec del Web App:
    const API_URL  = "https://script.google.com/macros/s/AKfycbzoFbSOME-jQkSK6gQIOg2S6QWT6j9cXVygEEpRkNWRw8LEFPdSILRGUfuAnTnO7w9yhg/exec";
    const OWNER_WA = "15076214496"; // +1 507 621 4496

    // id por visitante (en este dispositivo)
    const VISITOR_KEY = "cyc_visitor_id_v1";
    function getVisitorId(){
      let id = localStorage.getItem(VISITOR_KEY);
      if(!id){
        id = "v_" + Math.random().toString(16).slice(2) + Date.now().toString(16);
        localStorage.setItem(VISITOR_KEY, id);
      }
      return id;
    }

    // bloquear 1 clic por producto (en este dispositivo)
    const VOTED_KEY = "cyc_voted_map_v1";
    function loadVoted(){
      try{ return JSON.parse(localStorage.getItem(VOTED_KEY) || "{}"); }
      catch(e){ return {}; }
    }
    function saveVoted(map){ localStorage.setItem(VOTED_KEY, JSON.stringify(map)); }

    function setText(id, val){
      const el = document.getElementById(id);
      if(el) el.textContent = val;
    }

    function updateUIFromCounts(counts){
      const mid = counts.midnight || 0;
      const cal = counts.calma || 0;
      const hoo = counts.hoodie || 0;
      const tot = mid + cal + hoo;

      setText("count-midnight", mid);
      setText("count-calma", cal);
      setText("count-hoodie", hoo);

      setText("sum-midnight", mid);
      setText("sum-calma", cal);
      setText("sum-hoodie", hoo);
      setText("sum-total", tot);

      setText("interestTotal", tot + " total");
      setText("interestTotal2", tot + " total");
    }

    async function apiGetCounts(){
      const res = await fetch(`${API_URL}?action=get`, { method:"GET" });
      const data = await res.json();
      if(data && data.ok && data.counts) return data.counts;
      throw new Error("Respuesta inválida del API");
    }

    async function apiInc(key, visitorId){
      const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify({ action:"inc", key, visitorId })
      });
      const data = await res.json();
      if(data && data.ok && data.counts) return data; // {blocked, counts}
      throw new Error("No se pudo incrementar");
    }

    function disableInterestButton(key){
      document.querySelectorAll(".js-interest").forEach(btn => {
        const k = btn.getAttribute("data-interest-key");
        if(k !== key) return;
        btn.disabled = true;
        btn.textContent = "✅ Interés enviado";
      });
    }

    function initDisableFromLocal(){
      const voted = loadVoted();
      ["midnight","calma","hoodie"].forEach(k => {
        if(voted[k]) disableInterestButton(k);
      });
    }

    window.addInterest = async function(key){
      // bloqueo local (evita doble clic rápido)
      const voted = loadVoted();
      if(voted[key]){
        alert("Ya marcaste interés en este producto ✅");
        return;
      }
      voted[key] = true;
      saveVoted(voted);

      disableInterestButton(key);

      try{
        const visitorId = getVisitorId();
        const result = await apiInc(key, visitorId);
        updateUIFromCounts(result.counts);
        location.hash = "#interes";
      }catch(err){
        // si falla, desbloquea para reintentar
        voted[key] = false;
        saveVoted(voted);

        // reactivar botón
        document.querySelectorAll(".js-interest").forEach(btn => {
          const k = btn.getAttribute("data-interest-key");
          if(k !== key) return;
          btn.disabled = false;
          btn.textContent = "❤️ Me interesa";
        });

        alert("Error conectando con el contador global. Intenta de nuevo.");
        console.error(err);
      }
    };

    window.sendToWhatsApp = async function(){
      const name = (document.getElementById("iName")?.value || "").trim();
      const contact = (document.getElementById("iContact")?.value || "").trim();
      const note = (document.getElementById("iNote")?.value || "").trim();

      let counts = {midnight:0, calma:0, hoodie:0};
      try{ counts = await apiGetCounts(); }catch(e){}

      const mid = counts.midnight || 0;
      const cal = counts.calma || 0;
      const hoo = counts.hoodie || 0;
      const tot = mid + cal + hoo;

      const msg = [
        "Interado/a en Cash y Calma",
        "",
        `Nombre: ${name || "—"}`,
        `Contacto: ${contact || "—"}`,
        `Nota: ${note || "—"}`,
        "",
        "Conteo GLOBAL:",
        `- MIDNIGHT PURPLE: ${mid}`,
        `- CALMA MODE: ${cal}`,
        `- HOODIE: ${hoo}`,
        `Total: ${tot}`
      ].join("\n");

      const url = `https://wa.me/${OWNER_WA}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank", "noopener");
    };

    // init
    (async function initInterest(){
      initDisableFromLocal();
      try{
        const counts = await apiGetCounts();
        updateUIFromCounts(counts);
      }catch(err){
        console.error(err);
      }
    })();
  </script>

</body>
</html>
